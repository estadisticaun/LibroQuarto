[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Crear tablas de resumen en R",
    "section": "",
    "text": "Usando gt Table"
  },
  {
    "objectID": "index.html#introducción",
    "href": "index.html#introducción",
    "title": "Crear tablas de resumen en R",
    "section": "Introducción",
    "text": "Introducción\nEl paquete gt se enfoca en simplificar la creación de tablas de visualización con un aspecto atractivo. Es importante distinguir entre las tablas de datos (por ejemplo, tibbles, data.frames, etc.) y aquellas tablas que encontrarías en una página web, un artículo de revista o en una revista en sí. Estas tablas también pueden ser llamadas tablas de presentación, tablas resumen o simplemente tablas en realidad.\n\n\n\nFigura 1: GT Table\n\n\nPodemos considerar las tablas de visualización como elementos de salida solamente, donde no queremos utilizarlas nuevamente como entrada. Otras características incluyen anotaciones, estilos de elementos de tabla y transformaciones de texto que ayudan a comunicar de manera más clara el tema en cuestión.\nUn ejemplo de la estructura de la tabla de visualización resultante se puede ver en Figura 1.\nA continuación presentamos un video de Richh Iannone llamado “Making Beautiful Tables with {gt}” disponible en YouTube\n\nSugerimos que comience estudiando Capítulo 1"
  },
  {
    "objectID": "Conceptos Basicos.html",
    "href": "Conceptos Basicos.html",
    "title": "1  Conceptos Básicos",
    "section": "",
    "text": "Usando la base de datos de R llamada islands, que es un vector (que contiene el área en miles de millas cuadradas de masas terrestres de más de 10.000 millas cuadaradas), crearemos un objeto tibble utilizando el paquete dplyr.\n\n# Cargar libreria\nsuppressMessages(library(dplyr))\n\n# Obtener las 10 masas terrestres más grandes en el mundo\nislands_tbl <- \n  tibble(\n    name = names(islands),\n    size = islands\n  ) |>\n  arrange(desc(size)) |>\n  slice(1:10)\n\n# Cambiamos a español los nombres de las columnas\nnames(islands_tbl)<-c(\"Nombre\",\"Tamaño\")\n\nislands_tbl\n\n# A tibble: 10 × 2\n   Nombre        Tamaño\n   <chr>          <dbl>\n 1 Asia           16988\n 2 Africa         11506\n 3 North America   9390\n 4 South America   6795\n 5 Antarctica      5500\n 6 Europe          3745\n 7 Australia       2968\n 8 Greenland        840\n 9 New Guinea       306\n10 Borneo           280\n\n\nDado que islands_tbl es un tibble, ahora tenemos una entrada adecuada para gt. Si pasamos islands_tbl a la función gt(), obtendremos una tabla gt como resultado. Por cierto, también podríamos haber utilizado un data frame en su lugar como datos de tabla válidos para gt.\n\n# Installar libreria\nsuppressMessages(library(gt))\n\nWarning: package 'gt' was built under R version 4.2.3\n\n# Crear tabla\n(gt_tbl <- gt(islands_tbl))\n\n\n\n\n\n  \n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\n\n\nEs una tabla básica, pero se le pueden agregar títulos, subtítulos, grupos, subgrupos, y más, según los datos que tengamos y la especificación que le demos a la tabla, como veremos más adelante en Capítulo 2."
  },
  {
    "objectID": "Agregar Partes.html",
    "href": "Agregar Partes.html",
    "title": "2  Agregar partes a una tabla simple",
    "section": "",
    "text": "Con la librería gt podemos personalizar la tabla como deseemos. A continuación podemos apreciar un ejemplo de la estructura de una tabla creada con gt\n\n\n\nPartes de una gt Table\n\n\nLas partes son:\n\nTable Heather, el encabezado de la tabla, que puede tener título y/o subtítulo.\nStub y Stub Head, donde se agregan los títulos de las filas de la tabla.\nColum labels con los nombres de las columnas\nTable body donde están las filas y las columnas “originales”.\nTable footer, que puede tener las notas de pie de página y algunas referencias."
  },
  {
    "objectID": "Agregar Partes.html#table-header",
    "href": "Agregar Partes.html#table-header",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.1 Table header",
    "text": "2.1 Table header\nPara agregar un encabezado a nuestra tabla usamos la función tab_header() y así podemos incluir títulos y subtítulos de ser necesario.\nAntes nuestra tabla se veía así\n\n\n\n\n\n\n  \n    \n    \n      name\n      size\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\n\n\nAgregamos un título y un subtítulo y se visualiza así\n\ngt_tbl1 <- \n  gt_tbl |>\n  tab_header(\n    title = \"Grandes masas de tierra del mundo\",\n    subtitle = \"Top 10 de las más grandes\"\n  )\n\ngt_tbl1\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      name\n      size\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\n\n\nTambién podemos usar herramientas de MarkDown utilizando la función md()…. TOCA REVISARLO PORQUE NO ME FUNCIONA EL MD"
  },
  {
    "objectID": "Agregar Partes.html#stub-y-stub-head",
    "href": "Agregar Partes.html#stub-y-stub-head",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.3 Stub y Stub Head",
    "text": "2.3 Stub y Stub Head"
  },
  {
    "objectID": "Agregar Partes.html#column-labels",
    "href": "Agregar Partes.html#column-labels",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.4 Column labels",
    "text": "2.4 Column labels"
  },
  {
    "objectID": "Agregar Partes.html#table-footer",
    "href": "Agregar Partes.html#table-footer",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.2 Table footer",
    "text": "2.2 Table footer\nAhora le vamos a incluir referencias y algunas notas en ciertas columnas, para eso usaremos la función tab_source_note\n\ngt_tbl2 <- \n  gt_tbl1 |>\n  tab_source_note(\n    source_note = \"Recurso: The World Almanac and Book of Facts, 1975, página 406.\"\n  ) |>\n  tab_source_note(\n    source_note = \"Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\"\n  )\n\ngt_tbl2\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      name\n      size\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n\n\n\n\nAhora agregamos una nota al pie de página con la función tab_footnote(), también es necesario usar la función cells_bodypara especificar el lugar en el que irá el pequeño número que dirige al lector de la tabla a la nota al pie de página.\nHay varias formas de especificar los argumentos rows y columns de cells_body(), estas son:\n\nUn vector de nombres de columnas o nombres de filas\nUn vector con índices de columnas o de filas\nUsando la función de selección c()\nUsando una de las funciones starts_with(), ends_with(), contains(), matches(), one_of(), y everything().\n\nEn nuestro ejemplo, en las filas donde “name” es “North America” y “South America” pondremos una nota al pie de página que diga “América”. Para eso, especificamos que el número se debe ubicar en la columna “name” (columns=name) en las filas \\(3\\) y \\(4\\) (rows=3:4).\n\ngt_tbl3 <- \n  gt_tbl2 |>\n  tab_footnote(\n    footnote = \"América.\",\n    locations = cells_body(columns = name, rows = 3:4)\n  )\n\ngt_tbl3\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      name\n      size\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America1\n9390\n    South America1\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      1 América.\n    \n  \n\n\n\n\nTambién es posible filtrar las filas o columnas usando los operadores usuales “\\(==\\)”,“\\(>\\)” y “\\(<\\)”. En nuestro ejemplo, agreguemos la nota al pie de página para aquellas filas donde size es mayor a \\(6000\\) y menor a \\(16000\\), así\n\ngt_tbl4 <- \n  gt_tbl2 |>\n  tab_footnote(\n    footnote = \"size (tamaño) es mayor que 6000 y menor que 16000\",\n    locations = cells_body(columns = name, rows = size>6000 & size<16000)\n  )\n\ngt_tbl4\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      name\n      size\n    \n  \n  \n    Asia\n16988\n    Africa1\n11506\n    North America1\n9390\n    South America1\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      1 size (tamaño) es mayor que 6000 y menor que 16000\n    \n  \n\n\n\n\nPor defecto, se pone un número pequeño para hacer referencia al pie de página, sin embargo, podemos modificarlo usando opt_footnote_marks()\n\ngt_tbl4 <- \n  gt_tbl2 |>\n  tab_footnote(\n    footnote = \"size (tamaño) es mayor que 6000 y menor que 16000\",\n    locations = cells_body(columns = name, rows = size>6000 & size<16000)\n  ) |>\nopt_footnote_marks(marks = c(\"*\", \"+\"))\n\ngt_tbl4\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      name\n      size\n    \n  \n  \n    Asia\n16988\n    Africa*\n11506\n    North America*\n9390\n    South America*\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      * size (tamaño) es mayor que 6000 y menor que 16000\n    \n  \n\n\n\n\nFinalmente, cabe mencionar que es posible agregar cuantas referencias y notas al pie de página se desee. Las otras funciones cells_*() permiten agregar la nota al pie de página en otras partes de la tabla como títulos, subtítulos, stubs, entre otras. Puede encontrar información más detallada de las funciones cells_*() del paquete gt aquí"
  },
  {
    "objectID": "Agregar Partes.html#stub",
    "href": "Agregar Partes.html#stub",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.3 Stub",
    "text": "2.3 Stub\nUn Stub es la parte izquierda de la fila donde se encuentran los nombres de las filas o los nombres de los grupos de filas. El término Stub Head hace referencia al “título” de los stubs de la tabla.\nEn la librería gt es necesario especificar cuál es la columna que tiene los “nombres” de las filas. En nuestro ejemplo, el tibble islands_tbl tiene DOS columnas, debemos especificar que la columna names tiene los nombres de las filas y a partir de ella formaremos los stubs, y que la columna size es la única columna, esto lo hacemos con la función gt() y el argumento rowname_col así\n\ngt_tbl5 <- \n  islands_tbl |>\n  gt(rowname_col = \"name\")\n\ngt_tbl5\n\n\n\n\n\n  \n    \n    \n      \n      size\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\n\n\nAhor sí podemos formar los grupos de filas y asignar los stubs. Iniciamos con el stub head al que llamaremos “Masa terrestre” con la función tab_stubhead() así\n\ngt_tbl6 <- \n  gt_tbl5 |>\n  tab_stubhead(label = \"Masa terrestre\")\n\ngt_tbl6\n\n\n\n\n\n  \n    \n    \n      Masa terrestre\n      size\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\n\n\nA continuación, agrupamos las filas y asignamos el correspondiente stub con la función tab_row_group()\n\ngt_tbl7 <- \n  gt_tbl6 |> \n  tab_row_group(\n    label = \"Continente\",\n    rows = 1:6\n  ) |>\n  tab_row_group(\n    label = \"País\",\n    rows = c(\"Australia\", \"Greenland\")\n  ) |>\n  tab_row_group(\n    label = \"Subregión\",\n    rows = c(\"New Guinea\", \"Borneo\")\n  )\n\ngt_tbl7\n\n\n\n\n\n  \n    \n    \n      Masa terrestre\n      size\n    \n  \n  \n    \n      Subregión\n    \n    New Guinea\n306\n    Borneo\n280\n    \n      País\n    \n    Australia\n2968\n    Greenland\n840\n    \n      Continente\n    \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n  \n  \n  \n\n\n\n\nAhora agregamos los otros elementos de la tabla y nos queda\n\ngt_tbl8 <- \n  gt_tbl7 |> \n  tab_header(\n    title = \"Grandes masas de tierra del mundo\",\n    subtitle = \"Top 10 de las más grandes\"\n  ) |>\n  tab_source_note(\n    source_note = \"Recurso: The World Almanac and Book of Facts, 1975, página 406.\"\n  ) |>\n  tab_source_note(\n    source_note = \"Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\"\n  ) |>\n  tab_footnote(\n    footnote = \"size (tamaño) es mayor que 6000 y menor que 16000\",\n    locations = cells_body(columns = size, rows = size>6000 & size<16000)\n  ) |>\nopt_footnote_marks(marks = c(\"*\", \"+\"))\n\ngt_tbl8\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Masa terrestre\n      size\n    \n  \n  \n    \n      Subregión\n    \n    New Guinea\n306\n    Borneo\n280\n    \n      País\n    \n    Australia\n2968\n    Greenland\n840\n    \n      Continente\n    \n    Asia\n16988\n    Africa\n* 11506\n    North America\n* 9390\n    South America\n* 6795\n    Antarctica\n5500\n    Europe\n3745\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      * size (tamaño) es mayor que 6000 y menor que 16000\n    \n  \n\n\n\n\nOtra forma, tal vez un poco más sencilla, para generar los stubs es cuando en la base de datos original existe una columna con los nombres de los grupos de las filas, en el ejemplo, que en islands_tbl existiera la columna nombre_grupos donde aparecen Subregión, Continente y País, de modo que no sería necesario usar la función tab_row_group() para formar cada grupo, sino que simplemente usaríamos el siguiente fragmento del código: “gt(islands_tbl, rowname_col = \"name\", groupname_col = \"nombre_grupos\") |> ...”."
  },
  {
    "objectID": "Agregar Partes.html#título-y-subtítulo-table-header",
    "href": "Agregar Partes.html#título-y-subtítulo-table-header",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.1 Título y subtítulo (Table header)",
    "text": "2.1 Título y subtítulo (Table header)\nPara agregar un encabezado a nuestra tabla usamos la función tab_header() y así podemos incluir títulos y subtítulos de ser necesario.\nAntes nuestra tabla se veía así\n\n\n\n\n\n\n\n  \n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\nFigura 2.1: Tabla básica de islands\n\n\n\nAgregamos un título y un subtítulo, y Figura 2.1 se visualiza así\n\ngt_tbl1 <- \n  gt_tbl |>\n  tab_header(\n    title = \"Grandes masas de tierra del mundo\",\n    subtitle = \"Top 10 de las más grandes\"\n  ) \n\n# Visualizamos la tabla\ngt_tbl1\n\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\nFigura 2.2: Agregar un título y un subtítulo a la tabla\n\n\n\nPara personalizar nuestro libro es posible utilizar la función tab_style() y usaremos la función de ayuda cell_text() para, por ejemplo, cambiar el tipo de letra de toda la columna Nombre a itálica. Para esto agregamos al código anterior:\n\ngt_tbl1 <- \n  gt_tbl1 |>\n  tab_style(\n    style = cell_text(style = \"italic\"), # Indicamos que queremos que la letra sea itálica\n    locations = cells_body(\n      columns = Nombre # Indicamos la columna en la que se desea estilizar la letra\n  ))\n\n# Visualizamos la tabla\ngt_tbl1\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\nModificación del estilo de letra de la columna nombres\n\n\nEs posible personalizar aún más el estilo de la tabla y agregarle muchas más cosas usando las funciones de referencia (Capítulo 3)."
  },
  {
    "objectID": "Agregar Partes.html#referencias-y-notas-al-pie-de-página-table-footer",
    "href": "Agregar Partes.html#referencias-y-notas-al-pie-de-página-table-footer",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.2 Referencias y notas al pie de página (Table footer)",
    "text": "2.2 Referencias y notas al pie de página (Table footer)\nAhora le vamos a incluir referencias y algunas notas en ciertas columnas, para eso usaremos la función tab_source_note\n\ngt_tbl2 <- \n  gt_tbl1 |>\n  tab_source_note(\n    source_note = \"Recurso: The World Almanac and Book of Facts, 1975, página 406.\"\n  ) |>\n  tab_source_note(\n    source_note = \"Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\"\n  )\n\n# Visualizamos la tabla\ngt_tbl2\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n\n\nAgregar una referencia a la tabla\n\n\nAhora agregamos una nota al pie de página con la función tab_footnote(), también es necesario usar la función cells_bodypara especificar el lugar en el que irá el pequeño número que dirige al lector de la tabla a la nota al pie de página.\nHay varias formas de especificar los argumentos rows y columns de cells_body(), estas son:\n\nUn vector de nombres de columnas o nombres de filas\nUn vector con índices de columnas o de filas\nUsando la función de selección c()\nUsando una de las funciones starts_with(), ends_with(), contains(), matches(), one_of(), y everything().\n\nEn nuestro ejemplo, en las filas donde “name” es “North America” y “South America” pondremos una nota al pie de página que diga “América”. Para eso, especificamos que el número se debe ubicar en la columna “name” (columns=name) en las filas \\(3\\) y \\(4\\) (rows=3:4).\n\ngt_tbl3 <- \n  gt_tbl2 |>\n  tab_footnote(\n    footnote = \"América.\",\n    locations = cells_body(columns = Nombre, rows = 3:4)\n  )\n\n# Visualizamos la tabla\ngt_tbl3\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America1\n9390\n    South America1\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      1 América.\n    \n  \n\n\nAgregar una nota al pie de página a la tabla\n\n\nTambién es posible filtrar las filas o columnas usando los operadores usuales “\\(==\\)”,“\\(>\\)” y “\\(<\\)”. En nuestro ejemplo, agreguemos la nota al pie de página para aquellas filas donde size es mayor a \\(6000\\) y menor a \\(16000\\), así\n\ngt_tbl4 <- \n  gt_tbl2 |>\n  tab_footnote(\n    footnote = \"El tamaño es mayor que 6000 y menor que 16000\",\n    locations = cells_body(columns = Nombre, rows = Tamaño>6000 & Tamaño<16000)\n  )\n\n# Visualizamos la tabla\ngt_tbl4\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa1\n11506\n    North America1\n9390\n    South America1\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      1 El tamaño es mayor que 6000 y menor que 16000\n    \n  \n\n\nAgregar una nota al pie de página a la tabla, usando filtros en la localización\n\n\nPor defecto, se pone un número pequeño para hacer referencia al pie de página, sin embargo, podemos modificarlo usando opt_footnote_marks()\n\ngt_tbl4 <- \n  gt_tbl2 |>\n  tab_footnote(\n    footnote = \"El tamaño es mayor que 6000 y menor que 16000\",\n    locations = cells_body(columns = Nombre, rows = Tamaño>6000 & Tamaño<16000)\n  ) |>\nopt_footnote_marks(marks = c(\"*\", \"+\"))\n\n# Visualizamos la tabla\ngt_tbl4\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Nombre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa*\n11506\n    North America*\n9390\n    South America*\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      * El tamaño es mayor que 6000 y menor que 16000\n    \n  \n\n\nModificación de las marks de la nota al pie de página\n\n\nFinalmente, cabe mencionar que es posible agregar cuantas referencias y notas al pie de página se desee. Las otras funciones cells_*() permiten agregar la nota al pie de página en otras partes de la tabla como títulos, subtítulos, stubs, entre otras. Puede encontrar información más detallada de las funciones cells_*() del paquete gt aquí"
  },
  {
    "objectID": "Agregar Partes.html#grupos-de-filas-stub",
    "href": "Agregar Partes.html#grupos-de-filas-stub",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.3 Grupos de filas (Stub)",
    "text": "2.3 Grupos de filas (Stub)\nUn Stub es la parte izquierda de la fila donde se encuentran los nombres de las filas o los nombres de los grupos de filas. El término Stub Head hace referencia al “título” de los stubs de la tabla.\nEn la librería gt es necesario especificar cuál es la columna que tiene los “nombres” de las filas. En nuestro ejemplo, el tibble islands_tbl tiene DOS columnas, debemos especificar que la columna Nombre tiene los nombres de las filas y a partir de ella formaremos los stubs, y que la columna size es la única columna, esto lo hacemos con la función gt() y el argumento rowname_col así\n\ngt_tbl5 <- \n  islands_tbl |>\n  gt(rowname_col = \"Nombre\")\n\ngt_tbl5\n\n\n\n\n\n\n  \n    \n    \n      \n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\nFigura 2.3: Tabla con a columna Nombre como stub\n\n\n\nSin embargo, tal como podemos observar en Figura 2.3, la letra de la columna nombres ya no es itálica, de modo que hemos perdido el estilo que dimos en ?fig-italica.Ahora sí podemos formar los grupos de filas y asignar los stubs. Iniciamos con el stub head al que llamaremos “Masa terrestre” con la función tab_stubhead() así\n\ngt_tbl6 <- \n  gt_tbl5 |>\n  tab_stubhead(label = \"Masa terrestre\")\n\ngt_tbl6\n\n\n\n\n\n  \n    \n    \n      Masa terrestre\n      Tamaño\n    \n  \n  \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n    Australia\n2968\n    Greenland\n840\n    New Guinea\n306\n    Borneo\n280\n  \n  \n  \n\n\nTabla con un nombre para los stubs\n\n\nA continuación, agrupamos las filas y asignamos el correspondiente stub con la función tab_row_group()\n\ngt_tbl7 <- \n  gt_tbl6 |> \n  tab_row_group(\n    label = \"Continente\",\n    rows = 1:6\n  ) |>\n  tab_row_group(\n    label = \"País\",\n    rows = c(\"Australia\", \"Greenland\")\n  ) |>\n  tab_row_group(\n    label = \"Subregión\",\n    rows = c(\"New Guinea\", \"Borneo\")\n  )\n\n# Visualizamos la tabla\ngt_tbl7\n\n\n\n\n\n  \n    \n    \n      Masa terrestre\n      Tamaño\n    \n  \n  \n    \n      Subregión\n    \n    New Guinea\n306\n    Borneo\n280\n    \n      País\n    \n    Australia\n2968\n    Greenland\n840\n    \n      Continente\n    \n    Asia\n16988\n    Africa\n11506\n    North America\n9390\n    South America\n6795\n    Antarctica\n5500\n    Europe\n3745\n  \n  \n  \n\n\n\n\nAhora agregamos los otros elementos de la tabla y nos queda\n\ngt_tbl8 <- \n  gt_tbl7 |> \n  tab_header(\n    title = \"Grandes masas de tierra del mundo\",\n    subtitle = \"Top 10 de las más grandes\"\n  ) |>\n  tab_source_note(\n    source_note = \"Recurso: The World Almanac and Book of Facts, 1975, página 406.\"\n  ) |>\n  tab_source_note(\n    source_note = \"Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\"\n  ) |>\n  tab_footnote(\n    footnote = \"El tamaño es mayor que 6000 y menor que 16000\",\n    locations = cells_body(columns = Tamaño, rows = Tamaño>6000 & Tamaño<16000)\n  ) |>\nopt_footnote_marks(marks = c(\"*\", \"+\"))\n\n# Visualizamos la tabla\ngt_tbl8\n\n\n\n\n\n  \n    \n      Grandes masas de tierra del mundo\n    \n    \n      Top 10 de las más grandes\n    \n    \n      Masa terrestre\n      Tamaño\n    \n  \n  \n    \n      Subregión\n    \n    New Guinea\n306\n    Borneo\n280\n    \n      País\n    \n    Australia\n2968\n    Greenland\n840\n    \n      Continente\n    \n    Asia\n16988\n    Africa\n* 11506\n    North America\n* 9390\n    South America\n* 6795\n    Antarctica\n5500\n    Europe\n3745\n  \n  \n    \n      Recurso: The World Almanac and Book of Facts, 1975, página 406.\n    \n    \n      Referencia: McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\n    \n  \n  \n    \n      * El tamaño es mayor que 6000 y menor que 16000\n    \n  \n\n\n\n\nOtra forma, tal vez un poco más sencilla, para generar los stubs es cuando en la base de datos original existe una columna con los nombres de los grupos de las filas, en el ejemplo, que en islands_tbl existiera la columna nombre_grupos donde aparecen Subregión, Continente y País, de modo que no sería necesario usar la función tab_row_group() para formar cada grupo, sino que simplemente usaríamos el siguiente fragmento del código: “gt(islands_tbl, rowname_col = \"name\", groupname_col = \"nombre_grupos\") |> ...”."
  },
  {
    "objectID": "Agregar Partes.html#grupos-de-columnas-spanner",
    "href": "Agregar Partes.html#grupos-de-columnas-spanner",
    "title": "2  Agregar partes a una tabla simple",
    "section": "2.4 Grupos de columnas (Spanner)",
    "text": "2.4 Grupos de columnas (Spanner)\nAsí como en la sección anterior hicimos grupos de filas y les pusimos nombres a dichos gurpos, también es posible crear grupos de filas y asignarles títulos utilizando la función tab_spanner(), dichos grupos se conocen como Spanner.\nPara mostrar un ejemplo, usaremos los datos disponibles en airquality , esta base de datos tiene registro del día, mes y las mediciones de la calidad del aire en Nueva York de 153 días entre Mayo a Septiembre de 1973, tiene variables como ozono, radiación solar, temperatura, entre otras. Para ilustrar el uso de la función tab_stanner(), vamos a crear dos grupos de columnas, uno asociado a las mediciones (ozono, radiación solar, temperatura, …) y otro relacionado con la fecha de registro.\n\n# Primero vamos a cambiar a español los nombres de las variables de la base de datos \"airquality\"\ncalidad_aire<-airquality |>\n  slice(1:10)\n\nnames(calidad_aire)<-c(\"Ozono\",\"R.Solar\",\"Viento\",\"Temp\",\"Mes\",\"Día\")\n\n# Creamos la tabla con gt\ngt_tbl_air <- \n  gt(calidad_aire) |>\n  tab_header(\n    title = \"Mediciones de la calidad del aire en Nueva York\",\n    subtitle = \"Mediciones diarias en Nueva York de mayo a septiembre de 1973\"\n  ) |>\n  # Aquí creamos el primer grupo de columnas refererentes a la fecha\n  tab_spanner(\n    label = \"Fecha\", # Agregamos el título del grupo de columnas\n    columns = c(Mes, Día) # Seleccionamos las columnas que se van a agrupar en \"Fecha\"\n  ) |>\n  tab_spanner(\n    label = \"Mediciones\",\n    columns = c(Ozono, R.Solar, Viento, Temp)\n  )\n\n# Visualizamos la tabla\ngt_tbl_air\n\n\n\n\n\n  \n    \n      Mediciones de la calidad del aire en Nueva York\n    \n    \n      Mediciones diarias en Nueva York de mayo a septiembre de 1973\n    \n    \n      \n        Mediciones\n      \n      \n        Fecha\n      \n    \n    \n      Ozono\n      R.Solar\n      Viento\n      Temp\n      Mes\n      Día\n    \n  \n  \n    41\n190\n7.4\n67\n5\n1\n    36\n118\n8.0\n72\n5\n2\n    12\n149\n12.6\n74\n5\n3\n    18\n313\n11.5\n62\n5\n4\n    NA\nNA\n14.3\n56\n5\n5\n    28\nNA\n14.9\n66\n5\n6\n    23\n299\n8.6\n65\n5\n7\n    19\n99\n13.8\n59\n5\n8\n    8\n19\n20.1\n61\n5\n9\n    NA\n194\n8.6\n69\n5\n10\n  \n  \n  \n\n\n\n\nLa librería gt nos permite cambiar de posición la disposición de las columnas, así como también modificar los nombres de las columnas. Para cambiar de posición se puede usar la función cols_move_to_*(), y para los nombres de las columnas cols_label(). Por ejemplo, vamos a mover todas las variables relacionadas con Fecha al comiezo de la tabla (a la izquierda), y vamos a agregar las unidades de medida al nombre de las columnas.\n\ngt_tbl_air_2 <- \n  gt_tbl_air |>\n  cols_move_to_start(\n    columns = c(Mes, Día)\n  ) |>\n  cols_label(\n    Ozono = html(\"Ozono,<br>ppbV\"),\n    R.Solar = html(\"R.Solar,<br>cal/m<sup>2</sup>\"),\n    Viento = html(\"Viento,<br>mph\"),\n    Temp = html(\"Temp,<br>&deg;F\")\n  )\n\n# Visualización de la tabla \ngt_tbl_air_2\n\n\n\n\n\n  \n    \n      Mediciones de la calidad del aire en Nueva York\n    \n    \n      Mediciones diarias en Nueva York de mayo a septiembre de 1973\n    \n    \n      \n        Fecha\n      \n      \n        Mediciones\n      \n    \n    \n      Mes\n      Día\n      Ozono,ppbV\n      R.Solar,cal/m2\n      Viento,mph\n      Temp,°F\n    \n  \n  \n    5\n1\n41\n190\n7.4\n67\n    5\n2\n36\n118\n8.0\n72\n    5\n3\n12\n149\n12.6\n74\n    5\n4\n18\n313\n11.5\n62\n    5\n5\nNA\nNA\n14.3\n56\n    5\n6\n28\nNA\n14.9\n66\n    5\n7\n23\n299\n8.6\n65\n    5\n8\n19\n99\n13.8\n59\n    5\n9\n8\n19\n20.1\n61\n    5\n10\nNA\n194\n8.6\n69\n  \n  \n  \n\n\n\n\nEs considerablemente grande la cantidad de cosas que podemos agregar a nuestra tabla. En este capítulo (Capítulo 2) vimos cómo agregar partes “básicas” a la tabla. Pero también podemos agregar muchas más cosas usando las funciones de referencia que puedes estudiar en Capítulo 3."
  },
  {
    "objectID": "Referencias.html",
    "href": "Referencias.html",
    "title": "Referencias",
    "section": "",
    "text": "n.d. R. https://search.r-project.org/CRAN/refmans/gt/html/gt.html.\n\n\nIannone, Richard, Joe Cheng, Barret Schloerke, Ellis Hughes, Alexandra\nLauer, and JooYoung Seo. n.d. “Easily Create Presentation-Ready\nDisplay Tables.” Easily Create Presentation-Ready Display\nTables • Gt. https://gt.rstudio.com/.\n\n\n(s. f.)\n(Iannone et al., s. f.)"
  },
  {
    "objectID": "gt avanzado.html#personalización-con-css",
    "href": "gt avanzado.html#personalización-con-css",
    "title": "4  Funciones de gt avanzadas",
    "section": "4.1 Personalización con CSS",
    "text": "4.1 Personalización con CSS\nEl paquete gt tiene la función opt_css que nos permite personalizar la tabla aplicando nuestro propio CSS. Para visualizar esto, vamos a crear una tabla usando la base de datos exibble disponible en R, modificaremos el color de fondo de la tabla (one .gt_table {background-color:}), el espacio de cada para fila de la gráfica (#one .gt_row {padding:}), haremos que los títulos de las columnas se vean centrados (#one .gt_col_heading {text-align:}) y también que cambie el color de fondo de una fila cuando pongamos el mouse sobre ella (#one tr:hover {background-color:})\n\nsuppressMessages(library(gt))\n\nWarning: package 'gt' was built under R version 4.2.3\n\nsuppressMessages(library(dplyr))\n\nWarning: package 'dplyr' was built under R version 4.2.3\n\nexibble %>%\n  dplyr::select(num, currency) %>%\n  gt(id = \"one\") %>% # need to name the table so that you can apply CSS\n  fmt_currency(\n    columns = vars(currency),\n    currency = \"HKD\"\n  ) %>%\n  fmt_scientific(\n    columns = vars(num)\n  ) %>%\n  opt_css(\n    css = \"\n    #one .gt_table { \n      background-color: lightgrey;\n    }\n    #one .gt_row {\n      padding: 20px 30px;\n    }\n    #one tr:hover {\n    background-color: #f5f8ff;\n    }\n    #one .gt_col_heading {\n      text-align: center !important;\n    }\n    \"\n  )\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\n\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\nSince gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\nSince gt v0.3.0, `columns = vars(...)` has been deprecated.\n• Please use `columns = c(...)` instead.\n\n\n\n\n\n\n  \n    \n    \n      num\n      currency\n    \n  \n  \n    1.11 × 10−1\nHK$49.95\n    2.22\nHK$17.95\n    3.33 × 101\nHK$1.39\n    4.44 × 102\nHK$65,100.00\n    5.55 × 103\nHK$1,325.81\n    NA\nHK$13.26\n    7.77 × 105\nNA\n    8.88 × 106\nHK$0.44"
  }
]